<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Духовний простір Костянтина Добрева - Школа Архетипів, курси, консультації" />
    <title>Духовний простір | Костянтин Добрев</title>
    <link rel="icon" href="/favicon.ico" />
    
    <!-- Preload critical resources -->
    <link rel="preload" href="/mandala.png" as="image" />
    <link rel="preload" href="/logo.png" as="image" />
    
    <!-- DNS prefetch for external resources -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    <link rel="dns-prefetch" href="https://fonts.gstatic.com" />
    <link rel="dns-prefetch" href="https://cdn.tailwindcss.com" />
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              sans: ['Montserrat', 'sans-serif'],
              serif: ['Cinzel', 'serif'],
              mono: ['Montserrat', 'monospace'],
            },
            colors: {
              // Replaced Gold with Magical Violet/Indigo palette
              magic: {
                50: '#f5f3ff', // violet-50
                100: '#ede9fe', // violet-100
                200: '#ddd6fe', // violet-200
                300: '#c4b5fd', // violet-300
                400: '#a78bfa', // violet-400
                500: '#8b5cf6', // violet-500
                600: '#7c3aed', // violet-600
                700: '#6d28d9', // violet-700
                800: '#5b21b6', // violet-800
                900: '#4c1d95', // violet-900
              },
              accent: {
                light: '#d8b4fe', // fuchsia-300
                DEFAULT: '#c026d3', // fuchsia-600
                dark: '#86198f', // fuchsia-700
              }
            },
            animation: {
              'spin-once': 'spinOnce 1s cubic-bezier(0.4, 0, 0.2, 1) forwards',
              'flash-spin': 'flashSpin 0.8s ease-out forwards',
              'spin-slow': 'spin 30s linear infinite',
              'pulse-slow': 'pulse 4s infinite',
              'fade-in': 'fadeIn 0.6s ease-out forwards',
              'drop-in': 'dropIn 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards',
              'float': 'float 6s ease-in-out infinite',
              'breathe': 'mandala-breathe 4s ease-in-out infinite',
              'heartbeat': 'heartbeat 2.3s ease-in-out infinite',
              'snake-border': 'snake-border 3s ease-in-out infinite',
              'curtain-reveal': 'curtainReveal 1.2s ease-out forwards',
              'mandala-intro': 'mandalaIntro 2s cubic-bezier(0.25, 0.1, 0.25, 1) forwards',
              'coins-intro': 'coinsIntro 2s cubic-bezier(0.25, 0.1, 0.25, 1) forwards',
              'slide-from-top': 'slideFromTop 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards',
              'slide-from-bottom': 'slideFromBottom 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards',
              'slide-from-left': 'slideFromLeft 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards',
              'slide-from-right': 'slideFromRight 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards',
              'chevron-wave': 'chevronWave 1.5s ease-in-out infinite',
              'bounce-slow': 'bounceSlow 2s ease-in-out infinite',
              'gradient-flow': 'gradientFlow 4s ease infinite',
            },
            keyframes: {
              spinOnce: {
                '0%': { transform: 'rotate(0deg)' },
                '100%': { transform: 'rotate(360deg)' },
              },
              gradientFlow: {
                '0%': { backgroundPosition: '0% 50%' },
                '50%': { backgroundPosition: '100% 50%' },
                '100%': { backgroundPosition: '0% 50%' },
              },
              mandalaIntro: {
                '0%': { transform: 'scale(0.3) rotate(0deg)', opacity: '0' },
                '100%': { transform: 'scale(1) rotate(360deg)', opacity: '1' },
              },
              coinsIntro: {
                '0%': { transform: 'rotate(0deg)', opacity: '0' },
                '100%': { transform: 'rotate(-30deg)', opacity: '1' },
              },
              dropIn: {
                '0%': { 
                  opacity: '0',
                  transform: 'translateY(-30px) scale(0.9)'
                },
                '100%': { 
                  opacity: '1',
                  transform: 'translateY(0) scale(1)'
                },
              },
              flashSpin: {
                '0%': { 
                  transform: 'scale(0) rotate(0deg)', 
                  opacity: '0',
                  filter: 'brightness(3) blur(10px)'
                },
                '30%': { 
                  transform: 'scale(1.2) rotate(180deg)', 
                  opacity: '1',
                  filter: 'brightness(2) blur(0px)'
                },
                '100%': { 
                  transform: 'scale(1) rotate(360deg)', 
                  opacity: '1',
                  filter: 'brightness(1) blur(0px)'
                },
              },
              fadeIn: {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' },
              },
              slideFromTop: {
                '0%': { opacity: '0', transform: 'translateX(-50%) translateY(-100px) scale(0.95)' },
                '100%': { opacity: '1', transform: 'translateX(-50%) translateY(0) scale(1)' },
              },
              slideFromBottom: {
                '0%': { opacity: '0', transform: 'translateX(-50%) translateY(100px) scale(0.95)' },
                '100%': { opacity: '1', transform: 'translateX(-50%) translateY(0) scale(1)' },
              },
              slideFromLeft: {
                '0%': { opacity: '0', transform: 'translateY(-50%) translateX(-100px) scale(0.95)' },
                '100%': { opacity: '1', transform: 'translateY(-50%) translateX(0) scale(1)' },
              },
              slideFromRight: {
                '0%': { opacity: '0', transform: 'translateY(-50%) translateX(100px) scale(0.95)' },
                '100%': { opacity: '1', transform: 'translateY(-50%) translateX(0) scale(1)' },
              },
              chevronWave: {
                '0%, 100%': { opacity: '0.2' },
                '25%, 35%': { opacity: '1' },
              },
              bounceSlow: {
                '0%, 100%': { transform: 'translateY(0)' },
                '50%': { transform: 'translateY(10px)' },
              },
              float: {
                '0%, 100%': { transform: 'translateY(0)' },
                '50%': { transform: 'translateY(-10px)' },
              },
              'mandala-breathe': {
                '0%, 100%': { transform: 'scale(1)' },
                '50%': { transform: 'scale(1.08)' },
              },
              'heartbeat': {
                '0%': { transform: 'scale(1)' },
                '15%': { transform: 'scale(1.08)' },
                '30%': { transform: 'scale(1)' },
                '45%': { transform: 'scale(1.08)' },
                '57%': { transform: 'scale(1)' },
                '100%': { transform: 'scale(1)' },
              },
              'curtainReveal': {
                '0%': { 
                  clipPath: 'inset(0 50% 0 50%)',
                  opacity: '0'
                },
                '100%': { 
                  clipPath: 'inset(0 0% 0 0%)',
                  opacity: '1'
                },
              },
              'snake-border': {
                '0%': { 
                  backgroundPosition: '0% 50%'
                },
                '50%': { 
                  backgroundPosition: '100% 50%'
                },
                '100%': { 
                  backgroundPosition: '0% 50%'
                }
              }
            },
            borderRadius: {
              '4xl': '2rem',
              '5xl': '2.5rem',
            }
          },
        },
      }
    </script>
    <!-- Preload fonts for faster loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Montserrat:wght@300;400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Montserrat:wght@300;400;500;600;700&display=swap"></noscript>
    
    <style>
      /* ========================================
         RESPONSIVE SCALING SYSTEM
         Viewport-based scaling with clamp() for consistent appearance
         ======================================== */
      
      :root {
        /* Base unit = 1vw, scales with viewport AND browser zoom */
        --vw-unit: 1vw;
        
        /* Spacing scale - clamped for consistency across devices */
        --space-xs: clamp(4px, calc(var(--vw-unit) * 0.3), 6px);
        --space-sm: clamp(6px, calc(var(--vw-unit) * 0.5), 10px);
        --space-md: clamp(10px, calc(var(--vw-unit) * 0.8), 14px);
        --space-lg: clamp(14px, calc(var(--vw-unit) * 1.2), 20px);
        --space-xl: clamp(20px, calc(var(--vw-unit) * 2), 32px);
        --space-2xl: clamp(32px, calc(var(--vw-unit) * 3), 48px);
        --space-3xl: clamp(48px, calc(var(--vw-unit) * 4), 64px);
        
        /* Typography scale - clamped for readability */
        --text-xs: clamp(10px, calc(var(--vw-unit) * 0.7), 12px);
        --text-sm: clamp(12px, calc(var(--vw-unit) * 0.85), 14px);
        --text-base: clamp(14px, calc(var(--vw-unit) * 1), 16px);
        --text-lg: clamp(16px, calc(var(--vw-unit) * 1.2), 20px);
        --text-xl: clamp(18px, calc(var(--vw-unit) * 1.4), 24px);
        --text-2xl: clamp(22px, calc(var(--vw-unit) * 1.7), 28px);
        --text-3xl: clamp(28px, calc(var(--vw-unit) * 2.2), 36px);
        --text-4xl: clamp(36px, calc(var(--vw-unit) * 2.8), 48px);
        --text-5xl: clamp(44px, calc(var(--vw-unit) * 3.5), 60px);
        --text-6xl: clamp(56px, calc(var(--vw-unit) * 4.5), 80px);
        
        /* Container padding - clamped */
        --container-padding: clamp(16px, calc(var(--vw-unit) * 2), 32px);
        
        /* Border radius scale - clamped */
        --radius-sm: clamp(4px, calc(var(--vw-unit) * 0.4), 8px);
        --radius-md: clamp(6px, calc(var(--vw-unit) * 0.6), 10px);
        --radius-lg: clamp(8px, calc(var(--vw-unit) * 0.8), 14px);
        --radius-xl: clamp(12px, calc(var(--vw-unit) * 1.2), 20px);
        --radius-2xl: clamp(16px, calc(var(--vw-unit) * 1.6), 26px);
        --radius-3xl: clamp(20px, calc(var(--vw-unit) * 2), 32px);
        
        /* Element sizes - clamped */
        --size-icon-sm: clamp(14px, calc(var(--vw-unit) * 1), 18px);
        --size-icon-md: clamp(18px, calc(var(--vw-unit) * 1.4), 24px);
        --size-icon-lg: clamp(24px, calc(var(--vw-unit) * 2), 32px);
        --size-button-h: clamp(40px, calc(var(--vw-unit) * 3), 52px);
        --size-input-h: clamp(44px, calc(var(--vw-unit) * 3.2), 56px);
        
        /* Image/card sizes - clamped */
        --size-card-sm: clamp(180px, calc(var(--vw-unit) * 15), 240px);
        --size-card-md: clamp(240px, calc(var(--vw-unit) * 20), 320px);
        --size-card-lg: clamp(320px, calc(var(--vw-unit) * 28), 450px);
        --size-mandala: clamp(200px, calc(var(--vw-unit) * 18), 300px);
        
        /* Header/Footer specific sizes with minimums */
        --header-height: clamp(56px, calc(var(--vw-unit) * 6), 96px);
        --header-height-scrolled: clamp(48px, calc(var(--vw-unit) * 4.5), 72px);
        --footer-padding: clamp(16px, var(--space-lg), 24px);
        --header-logo-size: clamp(32px, calc(var(--vw-unit) * 4), 64px);
        --header-logo-size-scrolled: clamp(28px, calc(var(--vw-unit) * 3.5), 56px);
      }
      
      /* Mobile adjustments - larger base unit for readability */
      @media (max-width: 768px) {
        :root {
          --vw-unit: 2.5vw;
          /* Override clamps for mobile with fixed minimums */
          --space-xs: 4px;
          --space-sm: 8px;
          --space-md: 12px;
          --space-lg: 16px;
          --space-xl: 24px;
          --space-2xl: 36px;
          --space-3xl: 48px;
          
          --text-xs: 11px;
          --text-sm: 13px;
          --text-base: 15px;
          --text-lg: 17px;
          --text-xl: 20px;
          --text-2xl: 24px;
          --text-3xl: 30px;
          --text-4xl: 38px;
          --text-5xl: 48px;
          --text-6xl: 60px;
          
          --container-padding: 16px;
          
          --radius-sm: 6px;
          --radius-md: 8px;
          --radius-lg: 12px;
          --radius-xl: 16px;
          --radius-2xl: 20px;
          --radius-3xl: 24px;
          
          --size-icon-sm: 16px;
          --size-icon-md: 20px;
          --size-icon-lg: 28px;
          --size-button-h: 44px;
          --size-input-h: 48px;
        }
      }
      
      /* Tablet adjustments */
      @media (min-width: 769px) and (max-width: 1024px) {
        :root {
          --vw-unit: 1.4vw;
          /* Override clamps for tablet with balanced values */
          --space-xs: 5px;
          --space-sm: 8px;
          --space-md: 12px;
          --space-lg: 18px;
          --space-xl: 28px;
          --space-2xl: 40px;
          --space-3xl: 56px;
          
          --text-xs: 11px;
          --text-sm: 13px;
          --text-base: 15px;
          --text-lg: 18px;
          --text-xl: 22px;
          --text-2xl: 26px;
          --text-3xl: 32px;
          --text-4xl: 42px;
          --text-5xl: 52px;
          --text-6xl: 68px;
          
          --container-padding: 24px;
          
          --radius-sm: 6px;
          --radius-md: 8px;
          --radius-lg: 12px;
          --radius-xl: 18px;
          --radius-2xl: 22px;
          --radius-3xl: 28px;
          
          --size-icon-sm: 16px;
          --size-icon-md: 22px;
          --size-icon-lg: 30px;
          --size-button-h: 46px;
          --size-input-h: 50px;
        }
      }
      
      /* Large desktop - prevent elements from getting too big */
      @media (min-width: 1920px) {
        :root {
          --vw-unit: 0.85vw;
        }
      }
      
      /* Apply base font size - viewport relative */
      html {
        font-size: clamp(14px, var(--text-base), 18px);
      }
      
      /* Global Montserrat font */
      *, *::before, *::after {
        font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      }
      body, h1, h2, h3, h4, h5, h6, p, span, div, a, button, input, textarea, select, label {
        font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      }
      /* Cinzel only for .font-serif class */
      .font-serif {
        font-family: 'Cinzel', Georgia, serif !important;
      }
      
      /* Prose uses Montserrat */
      .prose, .prose * {
        font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      }
      .prose h1, .prose h2, .prose h3, .prose h4 {
        font-family: 'Cinzel', Georgia, serif;
      }
      
      /* Global smooth transitions - OPTIMIZED: only for interactive elements */
      button, a, input, select, textarea,
      .transition-all, .transition-colors, .hover-lift {
        transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 200ms;
      }
      
      /* Disable transitions for non-interactive elements to improve performance */
      *, *::before, *::after {
        transition: none;
      }
      
      /* Re-enable for specific classes */
      .animate-fade-in, .animate-drop-in, .animate-spin-once,
      .card-lift, .card-reveal, .page-transition,
      [class*="transition-"], [class*="hover:"] {
        transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 200ms;
      }
      
      /* ========================================
         RESPONSIVE UTILITY CLASSES
         ======================================== */
      
      /* Fluid text sizes */
      .text-fluid-xs { font-size: var(--text-xs); }
      .text-fluid-sm { font-size: var(--text-sm); }
      .text-fluid-base { font-size: var(--text-base); }
      .text-fluid-lg { font-size: var(--text-lg); }
      .text-fluid-xl { font-size: var(--text-xl); }
      .text-fluid-2xl { font-size: var(--text-2xl); }
      .text-fluid-3xl { font-size: var(--text-3xl); }
      .text-fluid-4xl { font-size: var(--text-4xl); }
      .text-fluid-5xl { font-size: var(--text-5xl); }
      
      /* Fluid spacing */
      .p-fluid-sm { padding: var(--space-sm); }
      .p-fluid-md { padding: var(--space-md); }
      .p-fluid-lg { padding: var(--space-lg); }
      .p-fluid-xl { padding: var(--space-xl); }
      
      .px-fluid-sm { padding-left: var(--space-sm); padding-right: var(--space-sm); }
      .px-fluid-md { padding-left: var(--space-md); padding-right: var(--space-md); }
      .px-fluid-lg { padding-left: var(--space-lg); padding-right: var(--space-lg); }
      .px-fluid-xl { padding-left: var(--space-xl); padding-right: var(--space-xl); }
      
      .py-fluid-sm { padding-top: var(--space-sm); padding-bottom: var(--space-sm); }
      .py-fluid-md { padding-top: var(--space-md); padding-bottom: var(--space-md); }
      .py-fluid-lg { padding-top: var(--space-lg); padding-bottom: var(--space-lg); }
      .py-fluid-xl { padding-top: var(--space-xl); padding-bottom: var(--space-xl); }
      
      .gap-fluid-sm { gap: var(--space-sm); }
      .gap-fluid-md { gap: var(--space-md); }
      .gap-fluid-lg { gap: var(--space-lg); }
      .gap-fluid-xl { gap: var(--space-xl); }
      
      /* Fluid border radius */
      .rounded-fluid-sm { border-radius: var(--radius-sm); }
      .rounded-fluid-md { border-radius: var(--radius-md); }
      .rounded-fluid-lg { border-radius: var(--radius-lg); }
      .rounded-fluid-xl { border-radius: var(--radius-xl); }
      .rounded-fluid-2xl { border-radius: var(--radius-2xl); }
      .rounded-fluid-3xl { border-radius: var(--radius-3xl); }
      
      /* Container with fluid padding */
      .container-fluid {
        width: 100%;
        max-width: 1600px;
        margin-left: auto;
        margin-right: auto;
        padding-left: var(--container-padding);
        padding-right: var(--container-padding);
      }
      
      /* Responsive grid helpers */
      .grid-responsive {
        display: grid;
        gap: var(--space-lg);
        grid-template-columns: repeat(auto-fit, minmax(min(100%, 280px), 1fr));
      }
      
      /* Safe area for mobile devices */
      .safe-area-inset {
        padding-left: max(var(--container-padding), env(safe-area-inset-left));
        padding-right: max(var(--container-padding), env(safe-area-inset-right));
      }
      
      /* Card lift animation - works with fade-in */
      .card-lift {
        transform: translateY(0);
        transition: transform 0.6s cubic-bezier(0.25, 0.1, 0.25, 1), box-shadow 0.6s cubic-bezier(0.25, 0.1, 0.25, 1);
      }
      .card-lift:hover {
        transform: translateY(-8px);
      }
      
      /* Staggered card reveal animation */
      @keyframes cardReveal {
        from {
          opacity: 0;
          transform: translateY(20px) scale(0.97);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }
      .card-reveal {
        opacity: 0;
        animation: cardReveal 0.7s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
      }
      
      /* Smooth page transitions */
      .page-transition {
        animation: pageEnter 0.4s ease-out;
      }
      @keyframes pageEnter {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      
      /* Image loading optimization */
      img {
        content-visibility: auto;
        contain-intrinsic-size: 300px 200px;
      }
      
      /* Lazy loaded images fade in */
      img[loading="lazy"] {
        opacity: 0;
        transition: opacity 0.3s ease-out;
      }
      img[loading="lazy"].loaded,
      img:not([loading="lazy"]) {
        opacity: 1;
      }
      
      /* GPU acceleration for animated elements */
      .animate-spin-once, .animate-fade-in, .animate-drop-in,
      .animate-float, .animate-breathe, .snake-border,
      .rainbow-border, .elegant-block::before {
        will-change: transform, opacity;
        transform: translateZ(0);
        backface-visibility: hidden;
      }
      
      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: #a78bfa;
        border-radius: 9999px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #7c3aed;
      }
      
      /* Smooth scroll */
      html {
        scroll-behavior: smooth;
      }
      
      /* Utilities */
      .glass-panel {
        background: rgba(255, 255, 255, 0.7);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.3);
      }
      .dark .glass-panel {
        background: rgba(15, 23, 42, 0.7);
        border: 1px solid rgba(255, 255, 255, 0.05);
      }
      
      /* Rainbow animated border - pastel version */
      .rainbow-border {
        position: relative;
        background: linear-gradient(var(--bg-color, white), var(--bg-color, white)) padding-box,
                    linear-gradient(var(--angle, 0deg), #fca5a5, #fdba74, #fde047, #bef264, #86efac, #67e8f9, #a5b4fc, #c4b5fd, #f0abfc, #fda4af, #fca5a5) border-box;
        border: 3px solid transparent;
        animation: rainbow-rotate 3s linear infinite;
      }
      .dark .rainbow-border {
        --bg-color: rgb(15, 23, 42);
      }
      @keyframes rainbow-rotate {
        0% { --angle: 0deg; }
        100% { --angle: 360deg; }
      }
      @property --angle {
        syntax: '<angle>';
        initial-value: 0deg;
        inherits: false;
      }
      
      /* Snake border animation - pastel version */
      .snake-border {
        position: relative;
        background: linear-gradient(var(--bg-color, white), var(--bg-color, white)) padding-box,
                    conic-gradient(from var(--snake-angle, 0deg), 
                      #fca5a5, #fdba74, #fde047, #bef264, #86efac, 
                      #67e8f9, #a5b4fc, #c4b5fd, #f0abfc, #fda4af, #fca5a5
                    ) border-box;
        border: 3px solid transparent;
        animation: snake-rotate 3s linear infinite;
      }
      .dark .snake-border {
        --bg-color: rgb(15, 23, 42);
      }
      @keyframes snake-rotate {
        0% { --snake-angle: 0deg; }
        100% { --snake-angle: 360deg; }
      }
      @property --snake-angle {
        syntax: '<angle>';
        initial-value: 0deg;
        inherits: false;
      }
      
      /* Elegant block styling with pastel animated border */
      .elegant-block {
        position: relative;
        background: linear-gradient(to bottom right, white, #eef2ff);
        box-shadow: 0 25px 50px -12px rgba(129, 140, 248, 0.2);
      }
      .elegant-block::before {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: inherit;
        padding: 2px;
        background: conic-gradient(
          from var(--pastel-angle, 0deg),
          #fca5a5, #fdba74, #fde047, #bef264, #86efac, 
          #67e8f9, #a5b4fc, #c4b5fd, #f0abfc, #fda4af, #fca5a5
        );
        -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        animation: pastel-rotate 6s linear infinite;
        opacity: 0.8;
      }
      .dark .elegant-block {
        background: linear-gradient(to bottom right, rgb(15, 23, 42), rgba(49, 46, 129, 0.2));
        box-shadow: 0 25px 50px -12px rgba(129, 140, 248, 0.15);
      }
      .dark .elegant-block::before {
        opacity: 0.6;
      }
      @keyframes pastel-rotate {
        0% { --pastel-angle: 0deg; }
        100% { --pastel-angle: 360deg; }
      }
      @property --pastel-angle {
        syntax: '<angle>';
        initial-value: 0deg;
        inherits: false;
      }
      
      /* Snake border for round elements - thick pastel */
      .snake-border-round {
        position: relative;
        box-sizing: content-box;
        background: linear-gradient(var(--bg-color, white), var(--bg-color, white)) padding-box,
                    conic-gradient(from var(--snake-angle, 0deg), 
                      #fca5a5, #fdba74, #fde047, #bef264, #86efac, 
                      #67e8f9, #a5b4fc, #c4b5fd, #f0abfc, #fda4af, #fca5a5
                    ) border-box;
        border: 16px solid transparent;
        margin: -16px;
        animation: snake-rotate 3s linear infinite;
      }
      .dark .snake-border-round {
        --bg-color: rgb(15, 23, 42);
      }
      
      /* Snake border thin with glow - pastel for cards */
      .snake-border-thin {
        position: relative;
        box-sizing: content-box;
        background: linear-gradient(var(--bg-color, white), var(--bg-color, white)) padding-box,
                    conic-gradient(from var(--snake-angle, 0deg), 
                      #fca5a5, #fdba74, #fde047, #bef264, #86efac, 
                      #67e8f9, #a5b4fc, #c4b5fd, #f0abfc, #fda4af, #fca5a5
                    ) border-box;
        border: 3px solid transparent;
        animation: snake-rotate 4s linear infinite, snake-glow-pastel 2s ease-in-out infinite;
      }
      .dark .snake-border-thin {
        --bg-color: rgb(15, 23, 42);
      }
      
      @keyframes snake-glow-pastel {
        0%, 100% { 
          filter: drop-shadow(0 0 4px rgba(196, 181, 253, 0.4)) drop-shadow(0 0 8px rgba(240, 171, 252, 0.3));
        }
        50% { 
          filter: drop-shadow(0 0 8px rgba(196, 181, 253, 0.6)) drop-shadow(0 0 16px rgba(240, 171, 252, 0.4));
        }
      }
      
      /* Animated gradient borders for seasonal blocks */
      .gradient-border-winter {
        background: conic-gradient(from var(--snake-angle, 0deg), #1e293b 0%, #475569 25%, #cbd5e1 50%, #475569 75%, #1e293b 100%) border-box;
        border: 4px solid transparent;
        animation: snake-rotate 4s linear infinite;
      }
      .gradient-border-spring {
        background: conic-gradient(from var(--snake-angle, 0deg), #dc2626 0%, #f97316 25%, #fbbf24 50%, #f97316 75%, #dc2626 100%) border-box;
        border: 4px solid transparent;
        animation: snake-rotate 4s linear infinite;
      }
      .gradient-border-autumn {
        background: conic-gradient(from var(--snake-angle, 0deg), #7c3aed 0%, #c026d3 25%, #f472b6 50%, #c026d3 75%, #7c3aed 100%) border-box;
        border: 4px solid transparent;
        animation: snake-rotate 4s linear infinite;
      }
      .gradient-border-summer {
        background: conic-gradient(from var(--snake-angle, 0deg), #059669 0%, #0d9488 20%, #22d3ee 40%, #38bdf8 60%, #0d9488 80%, #059669 100%) border-box;
        border: 4px solid transparent;
        animation: snake-rotate 4s linear infinite;
      }
      
      /* Hover effects */
      .hover-lift {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      .hover-lift:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 40px rgba(99, 102, 241, 0.15);
      }
      
      /* Modal scroll lock - use scrollbar-gutter to prevent layout shift */
      html {
        scrollbar-gutter: stable;
      }
      body.modal-open {
        overflow: hidden !important;
      }
      
      /* GPU acceleration for animations */
      .gpu-accelerated {
        transform: translateZ(0);
        backface-visibility: hidden;
        perspective: 1000px;
      }
      
      /* Prevent horizontal scroll */
      html, body {
        overflow-x: hidden;
      }
      
      /* Center content on zoom and large screens */
      #root {
        max-width: 1920px;
        margin: 0 auto;
      }
      
      /* Safe area for notched devices */
      @supports (padding: max(0px)) {
        body {
          padding-left: max(0px, env(safe-area-inset-left));
          padding-right: max(0px, env(safe-area-inset-right));
          padding-bottom: max(0px, env(safe-area-inset-bottom));
        }
      }
      
      /* Touch-friendly buttons on mobile */
      @media (max-width: 639px) {
        button, .btn, a[role="button"] {
          min-height: 44px;
          min-width: 44px;
        }
      }
      
      /* ========================================
         RESPONSIVE BREAKPOINT HELPERS
         ======================================== */
      
      /* Hide on mobile */
      @media (max-width: 639px) {
        .hide-mobile { display: none !important; }
      }
      
      /* Hide on tablet */
      @media (min-width: 640px) and (max-width: 1023px) {
        .hide-tablet { display: none !important; }
      }
      
      /* Hide on desktop */
      @media (min-width: 1024px) {
        .hide-desktop { display: none !important; }
      }
      
      /* Show only on mobile */
      @media (min-width: 640px) {
        .show-mobile-only { display: none !important; }
      }
      
      /* Show only on tablet and up */
      @media (max-width: 639px) {
        .show-tablet-up { display: none !important; }
      }
      
      /* Responsive text alignment */
      @media (max-width: 639px) {
        .text-center-mobile { text-align: center !important; }
        .text-left-mobile { text-align: left !important; }
      }
      
      /* Responsive flex direction */
      @media (max-width: 767px) {
        .flex-col-mobile { flex-direction: column !important; }
        .items-center-mobile { align-items: center !important; }
      }
      
      /* Responsive grid columns */
      @media (max-width: 639px) {
        .grid-cols-1-mobile { grid-template-columns: 1fr !important; }
      }
      @media (min-width: 640px) and (max-width: 1023px) {
        .grid-cols-2-tablet { grid-template-columns: repeat(2, 1fr) !important; }
      }
      
      /* Fixed sidebar responsive behavior */
      @media (max-width: 1023px) {
        .sidebar-responsive {
          position: relative !important;
          top: auto !important;
          right: auto !important;
          width: 100% !important;
          margin-bottom: var(--space-lg);
        }
      }
      
      /* Responsive image sizing */
      .img-responsive {
        max-width: 100%;
        height: auto;
        object-fit: cover;
      }
      
      /* Aspect ratio containers */
      .aspect-square-responsive {
        aspect-ratio: 1;
      }
      @media (max-width: 639px) {
        .aspect-video-mobile {
          aspect-ratio: 16/9;
        }
      }
      
      /* Overflow handling */
      .overflow-x-auto-mobile {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }
      
      /* Prevent text overflow */
      .text-truncate {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }
      
      .text-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }
      
      .text-clamp-3 {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }
      
      /* Responsive modal */
      @media (max-width: 639px) {
        .modal-responsive {
          width: 100% !important;
          max-width: 100% !important;
          height: 100% !important;
          max-height: 100% !important;
          border-radius: 0 !important;
          margin: 0 !important;
        }
      }
      
      /* ========================================
         ADAPTIVE GRID SYSTEM
         Universal responsive grid for all content
         ======================================== */
      
      /* Base container with max-width and auto margins */
      .grid-container {
        width: 100%;
        max-width: 1600px;
        margin-left: auto;
        margin-right: auto;
        padding-left: var(--container-padding);
        padding-right: var(--container-padding);
      }
      
      /* Narrow container for text-heavy content */
      .grid-container-narrow {
        max-width: 900px;
      }
      
      /* Wide container for full-width layouts */
      .grid-container-wide {
        max-width: 1920px;
      }
      
      /* Responsive card grid - auto-fit with min/max */
      .card-grid {
        display: grid;
        gap: var(--space-lg);
        grid-template-columns: repeat(1, 1fr);
      }
      @media (min-width: 640px) {
        .card-grid { grid-template-columns: repeat(2, 1fr); }
      }
      @media (min-width: 1024px) {
        .card-grid { grid-template-columns: repeat(3, 1fr); }
      }
      @media (min-width: 1280px) {
        .card-grid { grid-template-columns: repeat(4, 1fr); }
      }
      
      /* Auto-fit grid - cards expand to fill space */
      .grid-auto-fit {
        display: grid;
        gap: var(--space-lg);
        grid-template-columns: repeat(auto-fit, minmax(min(100%, 280px), 1fr));
      }
      
      /* Auto-fill grid - maintains minimum card size */
      .grid-auto-fill {
        display: grid;
        gap: var(--space-lg);
        grid-template-columns: repeat(auto-fill, minmax(min(100%, 280px), 1fr));
      }
      
      /* Fixed column grids */
      .grid-cols-1 { grid-template-columns: repeat(1, 1fr); }
      .grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
      .grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
      .grid-cols-4 { grid-template-columns: repeat(4, 1fr); }
      .grid-cols-5 { grid-template-columns: repeat(5, 1fr); }
      .grid-cols-6 { grid-template-columns: repeat(6, 1fr); }
      
      /* Responsive grid variants */
      @media (max-width: 639px) {
        .sm\:grid-cols-1 { grid-template-columns: repeat(1, 1fr) !important; }
        .sm\:grid-cols-2 { grid-template-columns: repeat(2, 1fr) !important; }
      }
      @media (min-width: 640px) and (max-width: 1023px) {
        .md\:grid-cols-2 { grid-template-columns: repeat(2, 1fr) !important; }
        .md\:grid-cols-3 { grid-template-columns: repeat(3, 1fr) !important; }
      }
      @media (min-width: 1024px) {
        .lg\:grid-cols-3 { grid-template-columns: repeat(3, 1fr) !important; }
        .lg\:grid-cols-4 { grid-template-columns: repeat(4, 1fr) !important; }
      }
      @media (min-width: 1280px) {
        .xl\:grid-cols-4 { grid-template-columns: repeat(4, 1fr) !important; }
        .xl\:grid-cols-5 { grid-template-columns: repeat(5, 1fr) !important; }
      }
      
      /* Two-column layout with sidebar */
      .grid-sidebar {
        display: grid;
        gap: var(--space-xl);
        grid-template-columns: 1fr;
      }
      @media (min-width: 1024px) {
        .grid-sidebar {
          grid-template-columns: 280px 1fr;
        }
        .grid-sidebar-right {
          grid-template-columns: 1fr 280px;
        }
        .grid-sidebar-wide {
          grid-template-columns: 320px 1fr;
        }
      }
      
      /* Two-column equal split */
      .grid-split {
        display: grid;
        gap: var(--space-xl);
        grid-template-columns: 1fr;
      }
      @media (min-width: 768px) {
        .grid-split {
          grid-template-columns: 1fr 1fr;
        }
      }
      
      /* Three-column layout */
      .grid-thirds {
        display: grid;
        gap: var(--space-lg);
        grid-template-columns: 1fr;
      }
      @media (min-width: 640px) {
        .grid-thirds {
          grid-template-columns: 1fr 1fr;
        }
      }
      @media (min-width: 1024px) {
        .grid-thirds {
          grid-template-columns: 1fr 1fr 1fr;
        }
      }
      
      /* Masonry-like grid with CSS columns */
      .grid-masonry {
        column-count: 1;
        column-gap: var(--space-lg);
      }
      .grid-masonry > * {
        break-inside: avoid;
        margin-bottom: var(--space-lg);
      }
      @media (min-width: 640px) {
        .grid-masonry { column-count: 2; }
      }
      @media (min-width: 1024px) {
        .grid-masonry { column-count: 3; }
      }
      @media (min-width: 1280px) {
        .grid-masonry { column-count: 4; }
      }
      
      /* Featured grid - large item + smaller items */
      .grid-featured {
        display: grid;
        gap: var(--space-lg);
        grid-template-columns: 1fr;
      }
      @media (min-width: 768px) {
        .grid-featured {
          grid-template-columns: 2fr 1fr;
          grid-template-rows: auto auto;
        }
        .grid-featured > :first-child {
          grid-row: span 2;
        }
      }
      
      /* Gap utilities */
      .gap-xs { gap: var(--space-xs); }
      .gap-sm { gap: var(--space-sm); }
      .gap-md { gap: var(--space-md); }
      .gap-lg { gap: var(--space-lg); }
      .gap-xl { gap: var(--space-xl); }
      .gap-2xl { gap: var(--space-2xl); }
      
      /* Section spacing */
      .section-spacing {
        padding-top: var(--space-2xl);
        padding-bottom: var(--space-2xl);
      }
      @media (min-width: 768px) {
        .section-spacing {
          padding-top: var(--space-3xl);
          padding-bottom: var(--space-3xl);
        }
      }
      
      /* Page top padding (accounts for fixed header) */
      .page-top {
        padding-top: calc(var(--vw-unit) * 7);
      }
      @media (max-width: 768px) {
        .page-top {
          padding-top: calc(var(--vw-unit) * 18);
        }
      }
      
      /* Content max-width utilities */
      .max-w-prose { max-width: 65ch; }
      .max-w-content { max-width: 900px; }
      .max-w-wide { max-width: 1200px; }
      .max-w-full { max-width: 100%; }
      
      /* Center content */
      .mx-auto { margin-left: auto; margin-right: auto; }
      
      /* Flex utilities for grid items */
      .items-start { align-items: flex-start; }
      .items-center { align-items: center; }
      .items-end { align-items: flex-end; }
      .items-stretch { align-items: stretch; }
      
      .justify-start { justify-content: flex-start; }
      .justify-center { justify-content: center; }
      .justify-end { justify-content: flex-end; }
      .justify-between { justify-content: space-between; }
      
      /* Span utilities for grid items */
      .col-span-1 { grid-column: span 1; }
      .col-span-2 { grid-column: span 2; }
      .col-span-3 { grid-column: span 3; }
      .col-span-full { grid-column: 1 / -1; }
      
      .row-span-1 { grid-row: span 1; }
      .row-span-2 { grid-row: span 2; }
      .row-span-3 { grid-row: span 3; }
      
      /* Responsive navigation sidebar */
      .nav-sidebar {
        position: fixed;
        z-index: 30;
      }
      @media (max-width: 1023px) {
        .nav-sidebar {
          position: relative;
          width: 100%;
        }
      }
      
      /* Smooth image hover animation for cards */
      /* For container with img inside */
      .card-img-hover {
        overflow: hidden;
      }
      .card-img-hover img {
        transition: transform 0.6s cubic-bezier(0.25, 0.1, 0.25, 1);
        will-change: transform;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
        transform: translateZ(0) scale(1);
        image-rendering: -webkit-optimize-contrast;
      }
      .card-img-hover:hover img {
        transform: translateZ(0) scale(1.06);
      }
      /* For direct img element */
      img.card-img-hover {
        transition: transform 0.6s cubic-bezier(0.25, 0.1, 0.25, 1);
        will-change: transform;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
        transform: translateZ(0) scale(1);
        image-rendering: -webkit-optimize-contrast;
      }
      img.card-img-hover:hover {
        transform: translateZ(0) scale(1.06);
      }
      
      /* Neon shimmer animation for buttons */
      @keyframes neon-shimmer {
        0% {
          left: -100%;
        }
        100% {
          left: 200%;
        }
      }
      .animate-neon-sweep {
        position: absolute;
        top: 0;
        left: -100%;
        width: 50%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent 0%,
          rgba(255, 255, 255, 0.1) 25%,
          rgba(255, 255, 255, 0.5) 50%,
          rgba(255, 255, 255, 0.1) 75%,
          transparent 100%
        );
        transform: skewX(-20deg);
        animation: neon-shimmer 2.5s ease-in-out infinite;
      }
      
      /* Modal animations - prevent flash */
      .animate-fade-in {
        opacity: 0;
        animation: fadeIn 0.3s ease-out forwards;
      }
      .animate-drop-in {
        opacity: 0;
        transform: translateY(-20px) scale(0.95);
        animation: dropIn 0.25s ease-out forwards;
      }
      @keyframes modalFadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      @keyframes modalSlideIn {
        from { 
          opacity: 0;
          transform: translateY(-20px) scale(0.95);
        }
        to { 
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }
    </style>
</head>
  <body class="bg-gradient-to-br from-indigo-50 via-purple-50 to-fuchsia-50 dark:from-slate-900 dark:via-slate-900 dark:to-slate-950 text-slate-900 dark:text-slate-100 transition-colors duration-500 min-h-screen">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
    <script>
      // Global lazy loading for images and content
      document.addEventListener('DOMContentLoaded', () => {
        // Lazy load images with Intersection Observer
        const lazyImages = () => {
          const images = document.querySelectorAll('img[loading="lazy"]');
          const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                entry.target.classList.add('loaded');
                observer.unobserve(entry.target);
              }
            });
          }, { rootMargin: '50px' });
          images.forEach(img => observer.observe(img));
        };

        // Lazy load sections with fade-in animation
        const lazySections = () => {
          const sections = document.querySelectorAll('.lazy-section');
          const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                entry.target.classList.add('animate-fade-in');
                entry.target.style.opacity = '1';
                observer.unobserve(entry.target);
              }
            });
          }, { rootMargin: '0px', threshold: 0.1 });
          sections.forEach(section => observer.observe(section));
        };

        // Lazy load cards with staggered animation
        const lazyCards = () => {
          const cards = document.querySelectorAll('.card-lift');
          const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                entry.target.style.animationPlayState = 'running';
                observer.unobserve(entry.target);
              }
            });
          }, { rootMargin: '50px', threshold: 0.1 });
          cards.forEach(card => {
            card.style.animationPlayState = 'paused';
            observer.observe(card);
          });
        };

        // Run on initial load and on route changes
        lazyImages();
        lazySections();
        lazyCards();

        // MutationObserver for dynamic content
        const mutationObserver = new MutationObserver(() => {
          lazyImages();
          lazySections();
          lazyCards();
        });
        mutationObserver.observe(document.getElementById('root'), { childList: true, subtree: true });
      });
    </script>
  </body>
</html>